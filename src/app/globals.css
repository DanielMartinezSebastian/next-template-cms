@import 'tailwindcss';

:root {
  --background: #ffffff;
  --foreground: #171717;
  --card: #ffffff;
  --card-foreground: #171717;
  --border: #e5e7eb;
  --input: #e5e7eb;
  --ring: #3b82f6;
  --muted: #f9fafb;
  --muted-foreground: #6b7280;
  --secondary: #f3f4f6;
  --secondary-foreground: #374151;
  --primary: #3b82f6;
  --primary-foreground: #ffffff;
  --destructive: #ef4444;
  --destructive-foreground: #ffffff;
  --accent: #f3f4f6;
  --accent-foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* 
 * Tailwind CSS 4 Theme Configuration 
 * IMPORTANT: Class-based themes (.dark, .light) must have higher specificity 
 * than system preferences to allow manual theme overrides
 */

/* Default light theme - explicitly defined to avoid system conflicts */
:root,
.light {
  --background: #ffffff;
  --foreground: #171717;
  --card: #ffffff;
  --card-foreground: #171717;
  --border: #e5e7eb;
  --input: #e5e7eb;
  --ring: #3b82f6;
  --muted: #f9fafb;
  --muted-foreground: #6b7280;
  --secondary: #f3f4f6;
  --secondary-foreground: #374151;
  --primary: #3b82f6;
  --primary-foreground: #ffffff;
  --destructive: #ef4444;
  --destructive-foreground: #ffffff;
  --accent: #f3f4f6;
  --accent-foreground: #171717;
}

/* Dark theme - force dark colors regardless of system preference */
.dark {
  --background: #0a0a0a !important;
  --foreground: #ededed !important;
  --card: #111111 !important;
  --card-foreground: #ededed !important;
  --border: #262626 !important;
  --input: #262626 !important;
  --ring: #60a5fa !important;
  --muted: #171717 !important;
  --muted-foreground: #a3a3a3 !important;
  --secondary: #262626 !important;
  --secondary-foreground: #fafafa !important;
  --primary: #60a5fa !important;
  --primary-foreground: #0a0a0a !important;
  --destructive: #f87171 !important;
  --destructive-foreground: #0a0a0a !important;
  --accent: #262626 !important;
  --accent-foreground: #ededed !important;
}

/* Light theme - force light colors regardless of system preference */
.light {
  --background: #ffffff !important;
  --foreground: #171717 !important;
  --card: #ffffff !important;
  --card-foreground: #171717 !important;
  --border: #e5e7eb !important;
  --input: #e5e7eb !important;
  --ring: #3b82f6 !important;
  --muted: #f9fafb !important;
  --muted-foreground: #6b7280 !important;
  --secondary: #f3f4f6 !important;
  --secondary-foreground: #374151 !important;
  --primary: #3b82f6 !important;
  --primary-foreground: #ffffff !important;
  --destructive: #ef4444 !important;
  --destructive-foreground: #ffffff !important;
  --accent: #f3f4f6 !important;
  --accent-foreground: #171717 !important;
}

/* 
 * System preference as fallback ONLY when no explicit class is set
 * This should only apply when neither .dark nor .light classes are present
 */
@media (prefers-color-scheme: dark) {
  :root:not(.dark):not(.light) {
    --background: #0a0a0a;
    --foreground: #ededed;
    --card: #111111;
    --card-foreground: #ededed;
    --border: #262626;
    --input: #262626;
    --ring: #60a5fa;
    --muted: #171717;
    --muted-foreground: #a3a3a3;
    --secondary: #262626;
    --secondary-foreground: #fafafa;
    --primary: #60a5fa;
    --primary-foreground: #0a0a0a;
    --destructive: #f87171;
    --destructive-foreground: #0a0a0a;
    --accent: #262626;
    --accent-foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), Arial, Helvetica, sans-serif;
}

/* Ensure Tailwind classes work with our custom properties */
.bg-background {
  background-color: var(--background);
}

.text-foreground {
  color: var(--foreground);
}

.text-foreground\/70 {
  color: color-mix(in srgb, var(--foreground) 70%, transparent);
}

.bg-card {
  background-color: var(--card);
}

.text-card-foreground {
  color: var(--card-foreground);
}

.border-border {
  border-color: var(--border);
}

.bg-muted {
  background-color: var(--muted);
}

.text-muted-foreground {
  color: var(--muted-foreground);
}

.bg-secondary {
  background-color: var(--secondary);
}

.text-secondary-foreground {
  color: var(--secondary-foreground);
}

.bg-primary {
  background-color: var(--primary);
}

/* Custom Scrollbars */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--muted-foreground) var(--muted);
}

.scrollbar-thin::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 4px;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 4px;
  border: 1px solid var(--muted);
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

.scrollbar-thin::-webkit-scrollbar-corner {
  background: var(--muted);
}

/* Scrollbar para admin panel */
.scrollbar-admin {
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--primary) 60%, transparent) var(--muted);
}

.scrollbar-admin::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.scrollbar-admin::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 6px;
}

.scrollbar-admin::-webkit-scrollbar-thumb {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 60%, transparent),
    color-mix(in srgb, var(--primary) 40%, transparent)
  );
  border-radius: 6px;
  border: 2px solid var(--muted);
}

.scrollbar-admin::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 80%, transparent),
    color-mix(in srgb, var(--primary) 60%, transparent)
  );
}

.scrollbar-admin::-webkit-scrollbar-corner {
  background: var(--muted);
}

/* Scrollbar para admin panel con barras siempre visibles */
.scrollbar-admin-always {
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--primary) 60%, transparent) var(--muted);
  overflow-x: scroll;
  overflow-y: scroll;
}

.scrollbar-admin-always::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.scrollbar-admin-always::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 6px;
}

.scrollbar-admin-always::-webkit-scrollbar-thumb {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 60%, transparent),
    color-mix(in srgb, var(--primary) 40%, transparent)
  );
  border-radius: 6px;
  border: 2px solid var(--muted);
}

.scrollbar-admin-always::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 80%, transparent),
    color-mix(in srgb, var(--primary) 60%, transparent)
  );
}

.scrollbar-admin-always::-webkit-scrollbar-corner {
  background: var(--muted);
}

/* Scrollbar para admin panel con solo scroll vertical siempre visible */
.scrollbar-admin-vertical {
  scrollbar-width: auto;
  scrollbar-color: var(--primary) var(--muted);
  overflow-x: auto;
  overflow-y: scroll;
}

.scrollbar-admin-vertical::-webkit-scrollbar {
  width: 16px;
  height: 16px;
}

.scrollbar-admin-vertical::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.scrollbar-admin-vertical::-webkit-scrollbar-thumb {
  background: linear-gradient(
    135deg,
    var(--primary),
    color-mix(in srgb, var(--primary) 80%, transparent)
  );
  border-radius: 8px;
  border: 3px solid var(--muted);
  min-height: 40px;
}

.scrollbar-admin-vertical::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 120%, #000000),
    var(--primary)
  );
}

/* Botones de flecha del scrollbar - FORZAR DISPLAY */
.scrollbar-admin-vertical::-webkit-scrollbar-button {
  display: block !important;
  height: 20px !important;
  width: 16px !important;
  background: var(--muted);
  border: 1px solid var(--border);
  border-radius: 2px;
  cursor: pointer;
}

.scrollbar-admin-vertical::-webkit-scrollbar-button:hover {
  background: var(--accent);
}

/* Flecha superior - FORZAR VISIBILIDAD */
.scrollbar-admin-vertical::-webkit-scrollbar-button:vertical:start:decrement {
  display: block !important;
  background: var(--muted)
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="3"><polyline points="18,15 12,9 6,15"></polyline></svg>')
    center no-repeat !important;
  background-size: 10px 10px !important;
}

/* Flecha inferior - FORZAR VISIBILIDAD */
.scrollbar-admin-vertical::-webkit-scrollbar-button:vertical:end:increment {
  display: block !important;
  background: var(--muted)
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="3"><polyline points="6,9 12,15 18,9"></polyline></svg>')
    center no-repeat !important;
  background-size: 10px 10px !important;
}

.scrollbar-admin-vertical::-webkit-scrollbar-corner {
  background: var(--muted);
}

/* Scrollbar para admin panel con scroll Y autom√°tico (solo cuando necesario) */
.scrollbar-admin-auto {
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--primary) 60%, transparent) var(--muted);
  overflow-x: auto;
  overflow-y: auto;
}

.scrollbar-admin-auto::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.scrollbar-admin-auto::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 6px;
}

.scrollbar-admin-auto::-webkit-scrollbar-thumb {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 60%, transparent),
    color-mix(in srgb, var(--primary) 40%, transparent)
  );
  border-radius: 6px;
  border: 2px solid var(--muted);
}

.scrollbar-admin-auto::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 80%, transparent),
    color-mix(in srgb, var(--primary) 60%, transparent)
  );
}

.scrollbar-admin-auto::-webkit-scrollbar-corner {
  background: var(--muted);
}

/* Scrollbar invisible para espacios especificos */
.scrollbar-none {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.scrollbar-none::-webkit-scrollbar {
  display: none;
}
